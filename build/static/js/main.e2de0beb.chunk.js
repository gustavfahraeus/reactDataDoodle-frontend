(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},50:function(e,t){},67:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(5),i=n(2),s=n(4),o=n(1),c=n(19),l=n.n(c),d=n(69),m=(n(25),n(26),n(27),n(28),n(29),n(30),n(31),n(0));var u=function(e){var t=(window.innerWidth-80)/2-10;return e.data?Object(m.jsxs)("div",{className:"SongContainer",children:[Object(m.jsx)("p",{className:"songPersonalRanking",children:e.ranking+1}),Object(m.jsx)("img",{className:"songImage",src:e.data[2]}),Object(m.jsx)("p",{className:"songTitle",style:{width:t},children:e.data[0]}),Object(m.jsx)("p",{className:"albumTitle",style:{width:t},children:e.data[1]})]}):Object(m.jsx)("div",{})};var p=function(e){var t=Object(o.useState)({}),n=Object(s.a)(t,2),a=n[0],r=n[1],c=Object(o.useState)(0),l=Object(s.a)(c,2),d=l[0],u=l[1],p=function(){try{if(window.innerWidth<768&&1===d){r({gridTemplateColumns:"75px",paddingLeft:"75px",paddingRight:"75px"})}else if(window.innerWidth<768&&2===d){r({gridTemplateColumns:"repeat(2,75px)",paddingLeft:"37.5px",paddingRight:"37.5px"})}else if(window.innerWidth<768&&d>=3){r({gridTemplateColumns:"repeat(3,75px)"})}else if(window.innerWidth>=768&&1===d){r({gridTemplateColumns:"150px",paddingLeft:"150px",paddingRight:"150px"})}else if(window.innerWidth>=768&&2===d){r({gridTemplateColumns:"repeat(2,150px)",paddingLeft:"75px",paddingRight:"75px"})}else if(window.innerWidth>=768&&d>=3){r({gridTemplateColumns:"repeat(3,150px)"})}}catch(e){console.log(e)}};Object(o.useEffect)((function(){window.addEventListener("resize",p)}),[]),Object(o.useEffect)(p,[d]);for(var h=e.data?e.data[0]:"",b=e.data?e.data[1][0]:[],g=[],y=0;y<b.length;y++)g.push(b[y][1]);g.length!==d&&u(g.length);try{var j=document.getElementsByClassName("containingGenres");setTimeout((function(){return j[0].style.opacity=1}),0)}catch(f){}return Object(m.jsxs)("div",{className:"GenreContainer",children:[Object(m.jsxs)("div",{style:{display:"flex",alignContent:"center",justifyContent:"center",flexDirection:"column",textAlign:"center"},children:[Object(m.jsx)("p",{className:"genreName",children:e.ranking+1}),Object(m.jsx)("p",{className:"genreName",children:function(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n].charAt(0).toUpperCase()+t[n].substring(1);return t.join(" ")}(h)})]}),Object(m.jsx)("div",{className:"genreArtistImageContainer",style:a,children:Object(i.a)(Array(g.length)).map((function(e,t){return Object(m.jsx)("img",{className:"artistImageGenreContainer",src:g[t]})}))})]})};var h=function(e){return Object(m.jsx)("div",{style:{display:"flex",margin:"auto"},children:Object(m.jsxs)("div",{className:"ArtistContainer",children:[Object(m.jsx)("img",{className:"artistImage",src:e.data[e.ranking][1]}),Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"artistRanking",children:[e.ranking+1+". "+e.data[e.ranking][0],"  "]})})]})})};var b=function(e){return Object(m.jsxs)("div",{className:"RecentlyPlayedContainer",children:[Object(m.jsxs)("div",{style:{display:"flex",textAlign:"left"},children:[Object(m.jsx)("p",{className:"recentlyPlayedCategory",style:{maxWidth:"450px",paddingLeft:"4px",fontSize:"20px"},children:"Track"}),Object(m.jsx)("p",{className:"recentlyPlayedCategory",style:{maxWidth:"450px",paddingLeft:"4px",fontSize:"20px"},children:"Artist(s)"}),Object(m.jsx)("p",{className:"recentlyPlayedCategory",style:{maxWidth:"125px",paddingLeft:"4px",fontSize:"20px",borderRight:"1px solid black"},children:"Played at"})]}),Object(m.jsx)("div",{style:{display:"grid"},children:Object(i.a)(Array(e.data.length)).map((function(t,n){return Object(m.jsxs)("div",{className:"someShit",children:[Object(m.jsx)("p",{id:0===n?"topRecent":"",className:"recentlyPlayedData",style:{wordWrap:"break-word",maxWidth:"450px",minWidth:"33%",marginLeft:"4px"},children:e.data[n][0]}),Object(m.jsx)("p",{id:0===n?"topRecent":"",className:"recentlyPlayedData",style:{wordWrap:"break-word",maxWidth:"450px",minWidth:"33%"},children:e.data[n][1]}),Object(m.jsx)("p",{id:0===n?"topRecent":"",className:"recentlyPlayedData",style:{wordWrap:"break-word",maxWidth:"125px",minWidth:"33%"},children:e.data[n][2]})]})}))})]})};var g=function(e){var t=e.stateProps;return Object(m.jsxs)("div",{className:"HomeContainer",children:[Object(m.jsx)("p",{style:{marginTop:"5px",marginBottom:"10px"},children:"your spotify data - all in one place"}),Object(m.jsx)("div",{className:"buttonContainer",children:Object(m.jsx)("button",{className:"button button1",onClick:function(){return t("Top Tracks")},children:"My Top Tracks"})}),Object(m.jsx)("div",{className:"buttonContainer",children:Object(m.jsx)("button",{className:"button button2",onClick:function(){return t("Top Artists")},children:"My Top Artists"})}),Object(m.jsx)("div",{className:"buttonContainer",children:Object(m.jsx)("button",{className:"button button3",onClick:function(){return t("Top Genres")},children:"My Top Genres"})}),Object(m.jsx)("div",{className:"buttonContainer",children:Object(m.jsx)("button",{className:"button button4",onClick:function(){return t("Recently Played Tracks")},children:"My Recently Played Tracks"})}),Object(m.jsx)("div",{className:"buttonContainer",children:Object(m.jsx)("button",{className:"button button5",onClick:function(){return t("About")},style:{paddingBottom:"0px"},children:"About"})})]})};new(n(13));var y=function(e){return Object(m.jsxs)("div",{className:"AboutContainer",children:[Object(m.jsx)("p",{className:"aboutHeader",children:"Hi there!\ud83d\ude0c"}),Object(m.jsx)("p",{className:"aboutParagraph",children:"This is a project I built to learn the ropes of React and to have an aggregated & good looking place to look at some of my own Spotify stats."}),Object(m.jsxs)("p",{className:"aboutParagraph",children:["If you find the website to be buggy in any way please send me a message on ",Object(m.jsx)("a",{target:"_blank",href:"https://twitter.com/flushthefishes",style:{display:"inline",color:"#00acee",fontWeight:"900",fontSize:"16px",cursor:"pointer"},children:"Twitter"}),"."]}),Object(m.jsx)("p",{className:"aboutParagraph",style:{paddingTop:"10px"},children:"My intention is to extend this project to be able to visualize more time periods, more user specific data, and also to make some (hopefully) useful predicitions about other cool things. "}),Object(m.jsxs)("p",{className:"aboutParagraph",style:{paddingTop:"10px"},children:["If you are at all interested in the code you can find it ",Object(m.jsx)("a",{target:"_blank",href:"https://github.com/gustavfahraeus",style:{display:"inline",color:"#00acee",fontWeight:"900",fontSize:"16px",cursor:"pointer"},children:"here"}),"."]}),Object(m.jsx)("p",{className:"aboutEnding",style:{paddingTop:"10px"},children:"Peace and Love"})]})},j=new(n(13));function f(){var e=Object(o.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],r=new URLSearchParams(window.location.search).get("access_token");return r||(window.location.href="https://serene-temple-40989.herokuapp.com/login"),j.setAccessToken(r),n||function(e){var t={},n=[];j.getMe().then((function(e){return t.__id=e.body.id}));var a=new Date;t.uploadDate=a,j.getMyTopTracks({limit:"50",time_range:"short_term"}).then((function(e){var t=e.body.items.map((function(e){return e.name})),a=e.body.items.map((function(e){return e.artists[0].name})),r=e.body.items.map((function(e){return e.album.images[2].url})),s=t.map((function(e,t){return[e,a[t],r[t]]}));n=[].concat(Object(i.a)(n),[s])})).catch((function(){return window.location.href="https://serene-temple-40989.herokuapp.com/login"})),j.getMyTopTracks({limit:"50",time_range:"medium_term"}).then((function(e){var t=e.body.items.map((function(e){return e.name})),a=e.body.items.map((function(e){return e.artists[0].name})),r=e.body.items.map((function(e){return e.album.images[2].url})),s=t.map((function(e,t){return[e,a[t],r[t]]}));n=[].concat(Object(i.a)(n),[s])})).catch((function(){return window.location.href="https://serene-temple-40989.herokuapp.com/login"})),j.getMyTopTracks({limit:"50",time_range:"long_term"}).then((function(e){var a=e.body.items.map((function(e){return e.name})),r=e.body.items.map((function(e){return e.artists[0].name})),s=e.body.items.map((function(e){return e.album.images[2].url})),o=a.map((function(e,t){return[e,r[t],s[t]]}));n=[].concat(Object(i.a)(n),[o]),t.tracks=n})).catch((function(){return window.location.href="https://serene-temple-40989.herokuapp.com/login"}));var r=[];j.getMyTopArtists({limit:"50",time_range:"short_term"}).then((function(e){var t=e.body.items.map((function(e){return e.name})),n=e.body.items.map((function(e){return e.images[1].url})),a=t.map((function(e,t){return[e,n[t]]}));r=[].concat(Object(i.a)(r),[a])})).catch((function(){return window.location.href="https://serene-temple-40989.herokuapp.com/login"})),j.getMyTopArtists({limit:"50",time_range:"medium_term"}).then((function(e){var t=e.body.items.map((function(e){return e.name})),n=e.body.items.map((function(e){return e.images[1].url})),a=t.map((function(e,t){return[e,n[t]]}));r=[].concat(Object(i.a)(r),[a])})).catch((function(){return window.location.href="https://serene-temple-40989.herokuapp.com/login"})),j.getMyTopArtists({limit:"50",time_range:"long_term"}).then((function(e){var n=e.body.items.map((function(e){return e.name})),a=e.body.items.map((function(e){return e.images[1].url})),s=n.map((function(e,t){return[e,a[t]]}));r=[].concat(Object(i.a)(r),[s]),t.artists=r})).catch((function(){return window.location.href="https://serene-temple-40989.herokuapp.com/login"}));var s=[];j.getMyTopArtists({limit:"50",time_range:"short_term"}).then((function(e){for(var t=[],n={},a={},r=0;r<e.body.items.length;r++)for(var o=e.body.items[r].genres,c=0;c<o.length;c++){var l=o[c];l in n?(n[l]++,a[l].push([e.body.items[r].name,e.body.items[r].images[2].url])):(n[l]=1,a[l]=[[e.body.items[r].name,e.body.items[r].images[2].url]])}for(var d in n)t.push([d,n[d]]);t.sort((function(e,t){return t[1]-e[1]}));for(var m=0;m<t.length;m++){var u=t[m][0];t[m][1]=[],a[u]?t[m][1].push(a[u]):t[m][1]=[a[m][u]]}s=[].concat(Object(i.a)(s),[t])})),j.getMyTopArtists({limit:"50",time_range:"medium_term"}).then((function(e){for(var t=[],n={},a={},r=0;r<e.body.items.length;r++)for(var o=e.body.items[r].genres,c=0;c<o.length;c++){var l=o[c];l in n?(n[l]++,a[l].push([e.body.items[r].name,e.body.items[r].images[2].url])):(n[l]=1,a[l]=[[e.body.items[r].name,e.body.items[r].images[2].url]])}for(var d in n)t.push([d,n[d]]);t.sort((function(e,t){return t[1]-e[1]}));for(var m=0;m<t.length;m++){var u=t[m][0];t[m][1]=[],a[u]?t[m][1].push(a[u]):t[m][1]=[a[m][u]]}s=[].concat(Object(i.a)(s),[t])})),j.getMyTopArtists({limit:"50",time_range:"long_term"}).then((function(e){for(var n=[],a={},r={},o=0;o<e.body.items.length;o++)for(var c=e.body.items[o].genres,l=0;l<c.length;l++){var d=c[l];d in a?(a[d]++,r[d].push([e.body.items[o].name,e.body.items[o].images[2].url])):(a[d]=1,r[d]=[[e.body.items[o].name,e.body.items[o].images[2].url]])}for(var m in a)n.push([m,a[m]]);n.sort((function(e,t){return t[1]-e[1]}));for(var u=0;u<n.length;u++){var p=n[u][0];n[u][1]=[],r[p]?n[u][1].push(r[p]):n[u][1]=[r[u][p]]}s=[].concat(Object(i.a)(s),[n]),t.genres=s})).then((function(){fetch("https://gustavfahraeus.eu.pythonanywhere.com/hello",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}));var o=[];j.getMyRecentlyPlayedTracks({limit:"50"}).then((function(n){for(var a=0;a<n.body.items.length;a++){for(var r=n.body.items[a].track.name,i=n.body.items[a].track.artists.map((function(e,t){return e.name})),s=0;s<i.length-1;s++)i[s]+=", ";var c=n.body.items[a].played_at,l=c.slice(0,10)+": ",d=c.slice(11,16);o.push([r,i,[l,d]])}t.recentlyPlayed=o,e(t)}))}(a),n?Object(m.jsx)(x,{data:n}):Object(m.jsx)("div",{className:"spinnerContainer",children:Object(m.jsx)(d.a,{animation:"border",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}function x(e){var t,n=Object(o.useState)("Home"),c=Object(s.a)(n,2),l=c[0],d=c[1],j=Object(o.useState)(0),f=Object(s.a)(j,2),x=f[0],O=f[1];console.log(e.data.__id);var T=(t={borderRadius:"5px 5px 5px 5px",borderTop:"none",borderColor:"#121212",color:"white",fontWeight:"bold",height:"100%",backgroundColor:"rgba(133, 127, 114, 0.44)"},Object(r.a)(t,"color","white"),Object(r.a)(t,"cursor","default"),Object(r.a)(t,"userSelect","none"),t),v=function(){var e={border:"1px solid black",borderBottom:"none",borderRadius:"5px 5px 5px 5px",borderColor:"#121212",fontWeight:"bold",height:"24px",userSelect:"none"};switch(l){case"Top Tracks":e=Object(a.a)(Object(a.a)({},e),{},{color:"#984447"});break;case"Top Artists":e=Object(a.a)(Object(a.a)({},e),{},{color:"#468C98"});break;case"Top Genres":e=Object(a.a)(Object(a.a)({},e),{},{color:"#476C9B"})}return e};Object(o.useEffect)((function(){w()}));var w=function(){"Top Artists"===l&&document.getElementById("artistContainer")&&window.innerWidth<992&&window.innerWidth>=576?document.getElementById("artistContainer").style.height=250*(Math.floor(e.data.artists[x].length/3)+1)+"px":"Top Artists"===l&&document.getElementById("artistContainer")&&window.innerWidth>=992?document.getElementById("artistContainer").style.height=400*(Math.floor(e.data.artists[x].length/3)+1)+"px":"Top Artists"===l&&document.getElementById("artistContainer")&&window.innerWidth<576&&(document.getElementById("artistContainer").style.height=185*(Math.floor(e.data.artists[x].length/3)+1)+"px")};return window.addEventListener("resize",(function(){"Top Artists"===l&&document.getElementById("artistContainer")&&window.innerWidth<992&&window.innerWidth>=576?document.getElementById("artistContainer").style.height=250*Math.floor(e.data.artists[x].length/3)+"px":"Top Artists"===l&&document.getElementById("artistContainer")&&window.innerWidth>=992?document.getElementById("artistContainer").style.height=400*(Math.floor(e.data.artists[x].length/3)+1)+"px":"Top Artists"===l&&document.getElementById("artistContainer")&&window.innerWidth<576&&(document.getElementById("artistContainer").style.height=185*(Math.floor(e.data.artists[x].length/3)+1)+"px")})),window.addEventListener("scroll",(function(){window.scrollY>window.innerHeight&&"Top Genres"===l?(document.getElementsByClassName("scrollToTheTop")[0].style.opacity="1",document.getElementsByClassName("scrollToTheTop")[0].style.cursor="pointer"):(document.getElementsByClassName("scrollToTheTop")[0].style.opacity="0",document.getElementsByClassName("scrollToTheTop")[0].style.cursor="unset")})),Object(m.jsxs)("div",{id:"SpotifyDataComponent",children:[Object(m.jsxs)("div",{className:"header",style:"Home"===l?{display:"none"}:{borderBottom:"none"},children:[Object(m.jsx)("div",{className:"headerElement",onClick:function(){return d("Home")},style:"Home"===l?T:{color:"rgba(255,255,255, 0.44"},children:"Home"}),Object(m.jsx)("div",{className:"headerElement",onClick:function(){d("Top Tracks")},style:"Top Tracks"===l?T:{color:"rgba(255,255,255, 0.44)"},children:"Top Tracks"}),Object(m.jsx)("div",{className:"headerElement",onClick:function(){d("Top Artists")},style:"Top Artists"===l?T:{color:"rgba(255,255,255, 0.44)"},children:"Top Artists"}),Object(m.jsx)("div",{className:"headerElement",onClick:function(){d("Top Genres")},style:"Top Genres"===l?T:{color:"rgba(255,255,255, 0.44)"},children:"Top Genres"}),Object(m.jsx)("div",{className:"headerElement",onClick:function(){d("Recently Played Tracks")},style:"Recently Played Tracks"===l?T:{color:"rgba(255,255,255, 0.44)"},children:"Recently Played Tracks"}),Object(m.jsx)("div",{className:"headerElement",onClick:function(){d("About")},style:"About"===l?T:{color:"rgba(255,255,255, 0.44)"},children:"About"})]}),Object(m.jsx)("p",{id:"currentCategory",children:"Home"===l?"What are you interested in seeing?":"About"===l?"":l}),Object(m.jsxs)("div",{id:"timeIntervalChanger",style:"Recently Played Tracks"===l||"Home"===l||"About"===l?{display:"none"}:{},children:[Object(m.jsx)("div",{style:0===x?v():{color:"#CAE4F1"},className:0!==x?"changerDiv":"focused",onClick:function(){O(0)},children:"last 4 weeks"}),Object(m.jsx)("div",{style:1===x?v():{color:"#CAE4F1"},className:1!==x?"changerDiv":"focused",onClick:function(){O(1)},children:"last 6 months"}),Object(m.jsx)("div",{style:2===x?v():{color:"#CAE4F1"},className:2!==x?"changerDiv":"focused",onClick:function(){O(2)},children:"years back"})]}),Object(m.jsxs)("div",{id:"Top Artists"===l?"artistContainer":"",className:function(e){switch(e){case"Top Artists":return"dataContainer";case"Top Genres":default:return"containingGenres"}}(l),style:"Top Artists"!==l&&"Top Genres"===l?{height:"unset",opacity:"0"}:"Top Artists"!==l?{height:"unset"}:{},children:[e.data.__id?function(t){switch(t){case"Top Tracks":return Object(i.a)(Array(e.data.tracks[x].length)).map((function(t,n){return Object(m.jsx)(u,{ranking:n,data:e.data.tracks[x][n]})}));case"Top Artists":return Object(i.a)(Array(e.data.artists[x].length)).map((function(t,n){return Object(m.jsx)(h,{ranking:n,data:e.data.artists[x]})}));case"Top Genres":return Object(i.a)(Array(e.data.genres[x].length)).map((function(t,n){return Object(m.jsx)(p,{ranking:n,data:e.data.genres[x][n]})}));case"Recently Played Tracks":return Object(m.jsx)(b,{data:e.data.recentlyPlayed});case"Home":return Object(m.jsx)(g,{stateProps:d,loggedIn:e});case"About":return Object(m.jsx)(y,{data:e.data})}}(l):"",Object(m.jsx)("div",{onClick:function(){window.scrollTo(0,0)},className:"scrollToTheTop",children:"\u2191"})]}),Object(m.jsx)("div",{style:"Home"!==l&&"Top Genres"!==l?{width:"100%",height:"20px",borderTop:"1px solid #1F1B24",marginTop:"10px"}:{}})]})}l.a.render(Object(m.jsx)(f,{}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.e2de0beb.chunk.js.map